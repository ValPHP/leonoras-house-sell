<html class="scroll-smooth" lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Leonora's Bahay - Home Selling Platform
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&amp;family=Roboto&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
      font-family: 'Poppins', 'Roboto', sans-serif;
      background-color: #fef6e4;
    }
    /* Scrollbar for posts container */
    #postsContainer::-webkit-scrollbar {
      width: 8px;
    }
    #postsContainer::-webkit-scrollbar-thumb {
      background-color: #f59e0b;
      border-radius: 4px;
    }
    #postsContainer::-webkit-scrollbar-track {
      background-color: #fef6e4;
    }
  </style>
 </head>
 <body class="min-h-screen flex flex-col">
  <!-- Header -->
  <header class="bg-yellow-400 shadow-md sticky top-0 z-50">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row items-center justify-between py-4">
    <h1 class="text-3xl font-extrabold text-white tracking-wide select-none">
     Leonora's Bahay
    </h1>
    <nav class="mt-3 sm:mt-0 flex space-x-6 text-white font-semibold text-sm sm:text-base">
     <a class="hover:underline focus:underline focus:outline-none" href="#about">
      About / Tungkol
     </a>
     <a class="hover:underline focus:underline focus:outline-none" href="#listings">
      Listings / Mga Bahay
     </a>
     <a class="hover:underline focus:underline focus:outline-none" href="#contact">
      Contact / Kontak
     </a>
     <button aria-label="Toggle Post Form" class="bg-white text-yellow-500 font-bold px-3 py-1 rounded shadow hover:bg-yellow-50 focus:outline-none focus:ring-2 focus:ring-yellow-300 hidden sm:inline-block" id="togglePostBtn">
      Post a House / Mag-post ng Bahay
     </button>
    </nav>
   </div>
  </header>
  <!-- Hero Section -->
  <section class="bg-yellow-100 py-12 px-6 sm:px-12 text-center">
   <h2 class="text-4xl sm:text-5xl font-extrabold text-yellow-700 mb-4 leading-tight">
    Your Dream Home Awaits in Santa Rosa City, Laguna
    <br/>
    <span class="text-yellow-900 italic">
     Ang Iyong Pangarap na Bahay ay Nandito na
    </span>
   </h2>
   <p class="max-w-3xl mx-auto text-yellow-800 text-lg sm:text-xl">
    Leonora's Bahay is your trusted platform to buy and sell homes in Santa Rosa City, Laguna.
    <br/>
    <span class="italic">
     Ang Leonora's Bahay ay iyong pinagkakatiwalaang plataporma para bumili at magbenta ng mga bahay sa Santa Rosa City, Laguna.
    </span>
   </p>
   <img alt="A traditional Filipino bahay kubo style house with modern touches, surrounded by lush greenery and tropical plants in Santa Rosa City, Laguna" class="mx-auto mt-8 rounded-lg shadow-lg max-w-full h-auto" height="350" loading="lazy" src="https://storage.googleapis.com/a1aa/image/b1505ae3-b926-44bc-e6b5-950e7af97431.jpg" width="600"/>
  </section>
  <!-- About Section -->
  <section class="max-w-7xl mx-auto px-6 sm:px-12 py-12" id="about">
   <h3 class="text-3xl font-bold text-yellow-800 mb-6 text-center">
    About Leonora's Bahay / Tungkol sa Leonora's Bahay
   </h3>
   <div class="grid grid-cols-1 md:grid-cols-2 gap-10 text-yellow-900 text-lg leading-relaxed">
    <div>
     <p>
      Leonora's Bahay is a home-selling platform dedicated to helping residents and newcomers find their perfect home in Santa Rosa City, Laguna. We provide a simple, secure, and community-driven way to post and browse listings with detailed descriptions, images, and prices.
     </p>
     <p class="mt-4 italic">
      Ang Leonora's Bahay ay isang plataporma para sa pagbebenta ng bahay na nakatuon sa pagtulong sa mga residente at bagong dating na makahanap ng kanilang perpektong bahay sa Santa Rosa City, Laguna. Nagbibigay kami ng simple, ligtas, at komunidad na paraan upang mag-post at mag-browse ng mga listahan na may detalyadong paglalarawan, mga larawan, at presyo.
     </p>
    </div>
    <div>
     <img alt="Scenic view of Santa Rosa City Laguna with houses, greenery, and mountains in the background under a bright blue sky" class="rounded-lg shadow-md w-full h-auto" height="350" loading="lazy" src="https://storage.googleapis.com/a1aa/image/2a56598a-45e1-426e-917d-a9315305643a.jpg" width="500"/>
    </div>
   </div>
  </section>
  <!-- Listings Section -->
  <section class="bg-yellow-50 py-12 px-6 sm:px-12 max-w-7xl mx-auto" id="listings">
   <h3 class="text-3xl font-bold text-yellow-800 mb-8 text-center">
    Available Listings / Mga Bahay na Available
   </h3>
   <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-h-[70vh] overflow-y-auto px-2 sm:px-6 pb-6" id="postsContainer">
    <!-- Posts will be dynamically inserted here -->
   </div>
  </section>
  <!-- Contact Section -->
  <section class="max-w-7xl mx-auto px-6 sm:px-12 py-12 text-yellow-900" id="contact">
   <h3 class="text-3xl font-bold mb-6 text-center">
    Contact Us / Kontakin Kami
   </h3>
   <div class="flex flex-col sm:flex-row justify-center gap-12 text-center sm:text-left">
    <div class="flex flex-col items-center sm:items-start space-y-3 max-w-sm">
     <i class="fab fa-facebook-square text-5xl text-yellow-600">
     </i>
     <a class="text-yellow-700 font-semibold hover:underline focus:underline focus:outline-none" href="https://www.facebook.com/leonora.papua.2025" rel="noopener noreferrer" target="_blank">
      Facebook: Leonora Papua
     </a>
    </div>
    <div class="flex flex-col items-center sm:items-start space-y-3 max-w-sm">
     <i class="fas fa-briefcase text-5xl text-yellow-600">
     </i>
     <a class="text-yellow-700 font-semibold hover:underline focus:underline focus:outline-none" href="https://smdc.com/properties/" rel="noopener noreferrer" target="_blank">
      Job Website: SMDC Properties
     </a>
    </div>
   </div>
  </section>
  <!-- Hidden Post Form Modal -->
  <div aria-labelledby="postModalTitle" aria-modal="true" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden" id="postModal" role="dialog">
   <div class="bg-yellow-50 rounded-lg shadow-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto p-6 relative">
    <button aria-label="Close Post Form" class="absolute top-4 right-4 text-yellow-700 hover:text-yellow-900 focus:outline-none focus:ring-2 focus:ring-yellow-400 rounded" id="closePostModal">
     <i class="fas fa-times fa-lg">
     </i>
    </button>
    <h4 class="text-2xl font-bold text-yellow-800 mb-4 text-center" id="postModalTitle">
     Post a House / Mag-post ng Bahay
    </h4>
    <form class="space-y-6 text-yellow-900" id="postForm" novalidate="">
     <div>
      <label class="block font-semibold mb-1" for="password">
       Password / Password
      </label>
      <input aria-describedby="passwordHelp" autocomplete="off" class="w-full rounded border border-yellow-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400" id="password" name="password" required="" type="password"/>
      <p class="text-sm text-yellow-600 mt-1" id="passwordHelp">
       Enter the secret password to post.
      </p>
     </div>
     <div>
      <label class="block font-semibold mb-1" for="address">
       Address / Address
      </label>
      <input class="w-full rounded border border-yellow-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400" id="address" maxlength="200" name="address" placeholder="e.g. 123 Mabini St., Santa Rosa City, Laguna" required="" type="text"/>
     </div>
     <div>
      <label class="block font-semibold mb-1" for="description">
       Description / Deskripsyon (max 1000 characters)
      </label>
      <textarea class="w-full rounded border border-yellow-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 resize-y" id="description" maxlength="1000" name="description" placeholder="Describe the house, features, and surroundings..." required="" rows="5"></textarea>
      <p class="text-sm text-yellow-600 mt-1" id="descCount">
       0 / 1000 characters
      </p>
     </div>
     <div>
      <label class="block font-semibold mb-1" for="price">
       Price Listing (PHP) / Presyo (PHP)
      </label>
      <input class="w-full rounded border border-yellow-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400" id="price" min="0" name="price" placeholder="e.g. 3500000" required="" step="1000" type="number"/>
     </div>
     <div>
      <label class="block font-semibold mb-1">
       Upload Images (1 to 3) / Mag-upload ng mga Larawan (1 hanggang 3)
      </label>
      <input accept="image/*" aria-describedby="imageHelp" class="w-full text-yellow-900" id="images" multiple="" name="images" required="" type="file"/>
      <p class="text-sm text-yellow-600 mt-1" id="imageHelp">
       You can upload up to 3 images. Max size per image: 2MB.
      </p>
     </div>
     <div>
      <label class="block font-semibold mb-1" for="captchaInput">
       Captcha / Kaptcha
      </label>
      <div class="flex items-center space-x-4 mb-2">
       <canvas class="border border-yellow-400 rounded" height="50" id="captchaCanvas" width="150">
       </canvas>
       <button aria-label="Refresh Captcha" class="text-yellow-700 hover:text-yellow-900 focus:outline-none focus:ring-2 focus:ring-yellow-400 rounded" id="refreshCaptcha" type="button">
        <i class="fas fa-sync-alt fa-lg">
        </i>
       </button>
      </div>
      <input autocomplete="off" class="w-full rounded border border-yellow-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400" id="captchaInput" name="captchaInput" placeholder="Enter the text shown above" required="" type="text"/>
     </div>
     <div class="flex justify-center space-x-6">
      <button class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-6 rounded shadow focus:outline-none focus:ring-2 focus:ring-yellow-400" type="submit">
       Submit / Isumite
      </button>
      <button class="bg-yellow-300 hover:bg-yellow-400 text-yellow-900 font-semibold py-2 px-6 rounded shadow focus:outline-none focus:ring-2 focus:ring-yellow-400" id="toggleDeleteSectionBtn" type="button">
       Delete a Post / Burahin ang Post
      </button>
     </div>
     <!-- Delete Section Hidden Initially -->
     <div class="mt-8 border-t border-yellow-400 pt-6 hidden" id="deleteSection">
      <h5 class="text-xl font-semibold mb-4 text-yellow-800 text-center">
       Delete a Post / Burahin ang Post
      </h5>
      <label class="block font-semibold mb-1" for="deletePassword">
       Password / Password
      </label>
      <input autocomplete="off" class="w-full rounded border border-yellow-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 mb-4" id="deletePassword" name="deletePassword" type="password"/>
      <label class="block font-semibold mb-1" for="deleteCaptchaInput">
       Captcha / Kaptcha
      </label>
      <div class="flex items-center space-x-4 mb-2">
       <canvas class="border border-yellow-400 rounded" height="50" id="deleteCaptchaCanvas" width="150">
       </canvas>
       <button aria-label="Refresh Delete Captcha" class="text-yellow-700 hover:text-yellow-900 focus:outline-none focus:ring-2 focus:ring-yellow-400 rounded" id="refreshDeleteCaptcha" type="button">
        <i class="fas fa-sync-alt fa-lg">
        </i>
       </button>
      </div>
      <input autocomplete="off" class="w-full rounded border border-yellow-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 mb-4" id="deleteCaptchaInput" name="deleteCaptchaInput" placeholder="Enter the text shown above" type="text"/>
      <label class="block font-semibold mb-1" for="deletePostSelect">
       Select Post to Delete / Piliin ang Post na Buburahin
      </label>
      <select class="w-full rounded border border-yellow-400 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 mb-6" id="deletePostSelect" name="deletePostSelect">
       <!-- Options dynamically populated -->
      </select>
      <div class="flex justify-center">
       <button class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded shadow focus:outline-none focus:ring-2 focus:ring-red-400" id="deletePostBtn" type="button">
        Delete Post / Burahin ang Post
       </button>
      </div>
     </div>
    </form>
   </div>
  </div>
  <footer class="bg-yellow-400 text-yellow-900 py-6 mt-auto">
   <div class="max-w-7xl mx-auto px-6 sm:px-12 text-center text-sm font-semibold select-none">
    © 2024 Leonora's Bahay - Santa Rosa City, Laguna. All rights reserved.
   </div>
  </footer>
  <script>
   (() => {
      // Constants
      const SECRET_PASSWORD = "SMDC§45b4d6831fe!";
      const MAX_IMAGES = 3;
      const MAX_IMAGE_SIZE_MB = 2;
      const STORAGE_KEY = "leonoras_bahay_posts";

      // Elements
      const togglePostBtn = document.getElementById("togglePostBtn");
      const postModal = document.getElementById("postModal");
      const closePostModal = document.getElementById("closePostModal");
      const postForm = document.getElementById("postForm");
      const descCount = document.getElementById("descCount");
      const imagesInput = document.getElementById("images");
      const postsContainer = document.getElementById("postsContainer");
      const captchaCanvas = document.getElementById("captchaCanvas");
      const captchaInput = document.getElementById("captchaInput");
      const refreshCaptchaBtn = document.getElementById("refreshCaptcha");

      const toggleDeleteSectionBtn = document.getElementById("toggleDeleteSectionBtn");
      const deleteSection = document.getElementById("deleteSection");
      const deletePasswordInput = document.getElementById("deletePassword");
      const deleteCaptchaCanvas = document.getElementById("deleteCaptchaCanvas");
      const deleteCaptchaInput = document.getElementById("deleteCaptchaInput");
      const refreshDeleteCaptchaBtn = document.getElementById("refreshDeleteCaptcha");
      const deletePostSelect = document.getElementById("deletePostSelect");
      const deletePostBtn = document.getElementById("deletePostBtn");

      // State
      let posts = [];
      let currentCaptcha = "";
      let currentDeleteCaptcha = "";

      // Utility: Generate random captcha text
      function generateCaptchaText(length = 6) {
        const chars = "ABCDEFGHJKLMNPQRSTUVWXYZ23456789";
        let text = "";
        for (let i = 0; i < length; i++) {
          text += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        return text;
      }

      // Utility: Draw captcha on canvas with noise and distortion
      function drawCaptcha(canvas, text) {
        const ctx = canvas.getContext("2d");
        const width = canvas.width;
        const height = canvas.height;

        // Clear
        ctx.clearRect(0, 0, width, height);

        // Background gradient
        const gradient = ctx.createLinearGradient(0, 0, width, height);
        gradient.addColorStop(0, "#fef6e4");
        gradient.addColorStop(1, "#fde68a");
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, width, height);

        // Add noise dots
        for (let i = 0; i < 100; i++) {
          ctx.fillStyle = `rgba(245, 158, 11, ${Math.random() * 0.3})`;
          ctx.beginPath();
          ctx.arc(
            Math.random() * width,
            Math.random() * height,
            Math.random() * 1.5,
            0,
            2 * Math.PI
          );
          ctx.fill();
        }

        // Draw text with random rotation and position
        ctx.font = "bold 32px Poppins, sans-serif";
        ctx.textBaseline = "middle";
        ctx.textAlign = "center";

        for (let i = 0; i < text.length; i++) {
          const char = text.charAt(i);
          const x = (width / (text.length + 1)) * (i + 1);
          const y = height / 2 + (Math.random() * 6 - 3);
          const angle = (Math.random() * 30 - 15) * (Math.PI / 180);

          ctx.save();
          ctx.translate(x, y);
          ctx.rotate(angle);
          ctx.fillStyle = `rgb(${Math.floor(
            50 + Math.random() * 100
          )},${Math.floor(30 + Math.random() * 100)},${Math.floor(
            0 + Math.random() * 50
          )})`;
          ctx.fillText(char, 0, 0);
          ctx.restore();
        }

        // Draw random lines
        for (let i = 0; i < 4; i++) {
          ctx.strokeStyle = `rgba(245, 158, 11, 0.5)`;
          ctx.lineWidth = 1 + Math.random() * 1.5;
          ctx.beginPath();
          ctx.moveTo(Math.random() * width, Math.random() * height);
          ctx.bezierCurveTo(
            Math.random() * width,
            Math.random() * height,
            Math.random() * width,
            Math.random() * height,
            Math.random() * width,
            Math.random() * height
          );
          ctx.stroke();
        }
      }

      // Generate and draw captcha for posting
      function generateCaptcha() {
        currentCaptcha = generateCaptchaText();
        drawCaptcha(captchaCanvas, currentCaptcha);
      }

      // Generate and draw captcha for deleting
      function generateDeleteCaptcha() {
        currentDeleteCaptcha = generateCaptchaText();
        drawCaptcha(deleteCaptchaCanvas, currentDeleteCaptcha);
      }

      // Load posts from localStorage
      function loadPosts() {
        try {
          const stored = localStorage.getItem(STORAGE_KEY);
          if (stored) {
            posts = JSON.parse(stored);
          } else {
            posts = [];
          }
        } catch {
          posts = [];
        }
      }

      // Save posts to localStorage
      function savePosts() {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(posts));
      }

      // Format date and time nicely
      function formatDateTime(dateStr) {
        const d = new Date(dateStr);
        if (isNaN(d)) return "";
        return d.toLocaleString("en-US", {
          year: "numeric",
          month: "short",
          day: "numeric",
          hour: "2-digit",
          minute: "2-digit",
          hour12: true,
        });
      }

      // Create post card element
      function createPostCard(post, index) {
        const card = document.createElement("article");
        card.className =
          "bg-white rounded-lg shadow-md overflow-hidden flex flex-col";

        // Images container
        const imagesWrapper = document.createElement("div");
        imagesWrapper.className = "flex space-x-1 overflow-x-auto";

        post.images.forEach((imgData, i) => {
          const img = document.createElement("img");
          img.src = imgData;
          img.alt = `House image ${i + 1} showing exterior and surroundings of the property located at ${post.address}`;
          img.className = "w-1/3 object-cover h-48 flex-shrink-0 rounded-t-lg";
          img.loading = "lazy";
          imagesWrapper.appendChild(img);
        });

        card.appendChild(imagesWrapper);

        // Content container
        const content = document.createElement("div");
        content.className = "p-4 flex flex-col flex-grow";

        // Address
        const addressEl = document.createElement("h4");
        addressEl.className = "font-bold text-yellow-800 text-lg mb-1";
        addressEl.textContent = post.address;
        content.appendChild(addressEl);

        // Description
        const descEl = document.createElement("p");
        descEl.className = "text-yellow-900 text-sm flex-grow whitespace-pre-wrap mb-3";
        descEl.textContent = post.description;
        content.appendChild(descEl);

        // Price
        const priceEl = document.createElement("p");
        priceEl.className = "font-semibold text-yellow-700 text-base mb-2";
        priceEl.textContent = `₱ ${Number(post.price).toLocaleString("en-PH")}`;
        content.appendChild(priceEl);

        // Date & time
        const dateEl = document.createElement("p");
        dateEl.className = "text-yellow-600 text-xs italic";
        dateEl.textContent = `Posted on: ${formatDateTime(post.datetime)}`;
        content.appendChild(dateEl);

        card.appendChild(content);

        return card;
      }

      // Render all posts
      function renderPosts() {
        postsContainer.innerHTML = "";
        if (posts.length === 0) {
          const noPosts = document.createElement("p");
          noPosts.className = "text-yellow-700 text-center col-span-full";
          noPosts.textContent = "No posts available yet. / Walang mga post sa ngayon.";
          postsContainer.appendChild(noPosts);
          return;
        }
        posts.forEach((post, idx) => {
          const card = createPostCard(post, idx);
          postsContainer.appendChild(card);
        });
      }

      // Populate delete post select options
      function populateDeleteSelect() {
        deletePostSelect.innerHTML = "";
        if (posts.length === 0) {
          const option = document.createElement("option");
          option.value = "";
          option.textContent = "No posts available / Walang post";
          option.disabled = true;
          deletePostSelect.appendChild(option);
          deletePostSelect.disabled = true;
          deletePostBtn.disabled = true;
          return;
        }
        deletePostSelect.disabled = false;
        deletePostBtn.disabled = false;
        posts.forEach((post, idx) => {
          const option = document.createElement("option");
          option.value = idx;
          const shortDesc =
            post.description.length > 40
              ? post.description.slice(0, 37) + "..."
              : post.description;
          option.textContent = `${post.address} - ₱${Number(post.price).toLocaleString(
            "en-PH"
          )} (${formatDateTime(post.datetime)}) - ${shortDesc}`;
          deletePostSelect.appendChild(option);
        });
      }

      // Validate captcha input (case insensitive)
      function validateCaptcha(input, actual) {
        return input.trim().toUpperCase() === actual.toUpperCase();
      }

      // Convert image files to base64 data URLs (max 3 images)
      function convertImagesToBase64(files) {
        return new Promise((resolve, reject) => {
          if (files.length === 0) {
            reject("No images selected.");
            return;
          }
          if (files.length > MAX_IMAGES) {
            reject(`You can upload up to ${MAX_IMAGES} images.`);
            return;
          }
          const base64Images = [];
          let processed = 0;
          for (let i = 0; i < files.length; i++) {
            const file = files[i];
            if (!file.type.startsWith("image/")) {
              reject("Only image files are allowed.");
              return;
            }
            if (file.size > MAX_IMAGE_SIZE_MB * 1024 * 1024) {
              reject(`Each image must be less than ${MAX_IMAGE_SIZE_MB}MB.`);
              return;
            }
            const reader = new FileReader();
            reader.onload = (e) => {
              base64Images.push(e.target.result);
              processed++;
              if (processed === files.length) {
                resolve(base64Images);
              }
            };
            reader.onerror = () => {
              reject("Error reading image files.");
            };
            reader.readAsDataURL(file);
          }
        });
      }

      // Event Listeners

      // Toggle post modal visibility
      togglePostBtn.addEventListener("click", () => {
        postModal.classList.remove("hidden");
        generateCaptcha();
        generateDeleteCaptcha();
        deleteSection.classList.add("hidden");
        postForm.reset();
        descCount.textContent = "0 / 1000 characters";
        captchaInput.value = "";
        deleteCaptchaInput.value = "";
        deletePasswordInput.value = "";
        populateDeleteSelect();
        captchaInput.focus();
        document.body.style.overflow = "hidden";
      });

      // Close modal
      closePostModal.addEventListener("click", () => {
        postModal.classList.add("hidden");
        document.body.style.overflow = "";
      });

      // Close modal on outside click
      postModal.addEventListener("click", (e) => {
        if (e.target === postModal) {
          postModal.classList.add("hidden");
          document.body.style.overflow = "";
        }
      });

      // Description character count update
      postForm.description.addEventListener("input", (e) => {
        const len = e.target.value.length;
        descCount.textContent = `${len} / 1000 characters`;
      });

      // Refresh captcha on button click
      refreshCaptchaBtn.addEventListener("click", () => {
        generateCaptcha();
        captchaInput.value = "";
        captchaInput.focus();
      });

      refreshDeleteCaptchaBtn.addEventListener("click", () => {
        generateDeleteCaptcha();
        deleteCaptchaInput.value = "";
        deleteCaptchaInput.focus();
      });

      // Toggle delete section visibility
      toggleDeleteSectionBtn.addEventListener("click", () => {
        if (deleteSection.classList.contains("hidden")) {
          deleteSection.classList.remove("hidden");
          deletePasswordInput.focus();
        } else {
          deleteSection.classList.add("hidden");
        }
      });

      // Submit post form
      postForm.addEventListener("submit", async (e) => {
        e.preventDefault();

        // Validate password
        if (postForm.password.value !== SECRET_PASSWORD) {
          alert("Incorrect password. / Mali ang password.");
          postForm.password.focus();
          return;
        }

        // Validate captcha
        if (!validateCaptcha(postForm.captchaInput.value, currentCaptcha)) {
          alert("Captcha does not match. / Mali ang captcha.");
          postForm.captchaInput.focus();
          generateCaptcha();
          postForm.captchaInput.value = "";
          return;
        }

        // Validate images count
        if (postForm.images.files.length === 0) {
          alert("Please upload at least one image. / Mangyaring mag-upload ng kahit isang larawan.");
          postForm.images.focus();
          return;
        }
        if (postForm.images.files.length > MAX_IMAGES) {
          alert(`You can upload up to ${MAX_IMAGES} images. / Maaari kang mag-upload ng hanggang ${MAX_IMAGES} na larawan.`);
          postForm.images.focus();
          return;
        }

        // Convert images to base64
        let base64Images;
        try {
          base64Images = await convertImagesToBase64(postForm.images.files);
        } catch (err) {
          alert(err);
          return;
        }

        // Create post object
        const newPost = {
          address: postForm.address.value.trim(),
          description: postForm.description.value.trim(),
          price: Number(postForm.price.value),
          images: base64Images,
          datetime: new Date().toISOString(),
        };

        // Add post and save
        posts.unshift(newPost);
        savePosts();
        renderPosts();
        populateDeleteSelect();

        alert("Post submitted successfully! / Matagumpay na naipost ang bahay!");
        postModal.classList.add("hidden");
        document.body.style.overflow = "";
      });

      // Delete post button click
      deletePostBtn.addEventListener("click", () => {
        // Validate password
        if (deletePasswordInput.value !== SECRET_PASSWORD) {
          alert("Incorrect password. / Mali ang password.");
          deletePasswordInput.focus();
          return;
        }

        // Validate captcha
        if (!validateCaptcha(deleteCaptchaInput.value, currentDeleteCaptcha)) {
          alert("Captcha does not match. / Mali ang captcha.");
          deleteCaptchaInput.focus();
          generateDeleteCaptcha();
          deleteCaptchaInput.value = "";
          return;
        }

        // Validate selection
        const selectedIndex = deletePostSelect.value;
        if (selectedIndex === "" || selectedIndex === null) {
          alert("Please select a post to delete. / Mangyaring pumili ng post na buburahin.");
          return;
        }

        // Confirm deletion
        if (
          !confirm(
            "Are you sure you want to delete the selected post? / Sigurado ka bang gusto mong burahin ang napiling post?"
          )
        ) {
          return;
        }

        // Delete post
        posts.splice(selectedIndex, 1);
        savePosts();
        renderPosts();
        populateDeleteSelect();

        alert("Post deleted successfully! / Matagumpay na nabura ang post!");
        // Reset delete inputs
        deletePasswordInput.value = "";
        deleteCaptchaInput.value = "";
        generateDeleteCaptcha();
      });

      // Initial load
      loadPosts();
      renderPosts();
      populateDeleteSelect();

      // Accessibility: Keyboard shortcut to open post modal (Ctrl+P)
      window.addEventListener("keydown", (e) => {
        if (e.ctrlKey && e.key.toLowerCase() === "p") {
          e.preventDefault();
          if (postModal.classList.contains("hidden")) {
            togglePostBtn.click();
          }
        }
      });
    })();
  </script>
 </body>
</html>
